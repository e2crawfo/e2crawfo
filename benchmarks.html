

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Benchmarks &mdash; nengo_mpi 0.1.0-dev docs</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="nengo_mpi 0.1.0-dev docs" href="index.html"/>
        <link rel="up" title="User Guide" href="user_guide.html"/>
        <link rel="next" title="FAQ" href="faq.html"/>
        <link rel="prev" title="Workflows" href="workflows.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> nengo_mpi
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="user_guide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="how_it_works.html">How It Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html">Workflows</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Benchmarks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stream-network">Stream Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#random-graph-network">Random Graph Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spaun">SPAUN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">nengo_mpi</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="user_guide.html">User Guide</a> &raquo;</li>
      
    <li>Benchmarks</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/benchmarks.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="benchmarks">
<span id="id1"></span><h1>Benchmarks<a class="headerlink" href="#benchmarks" title="Permalink to this headline">¶</a></h1>
<p>Benchmarks testing the simulation speed of nengo_mpi were performed with 3
different machines and 3 different large-scale spiking neural networks. The
machines used were a home PC with a Quad-Core 3.6GHz Intel i7-4790 and 16 GB
of RAM, Scinet&#8217;s <a class="reference external" href="https://wiki.scinet.utoronto.ca/wiki/index.php/GPC_Quickstart#Specifications">General Purpose Cluster</a>,
and Scinet&#8217;s 4 rack
<a class="reference external" href="https://wiki.scinet.utoronto.ca/wiki/index.php/BGQ#Specifications">Blue Gene/Q</a>.
We tested nengo_mpi using different numbers of processors, and also tested the
<a class="reference external" href="https://github.com/nengo/nengo/tree/master/nengo">reference implementation</a>
of nengo (on the home PC only) for comparison.</p>
<div class="section" id="stream-network">
<h2>Stream Network<a class="headerlink" href="#stream-network" title="Permalink to this headline">¶</a></h2>
<p>The stream network exhibits a simple connectivity structure, and is intended
to be close to the optimal configuration for executing a simulation quickly In
parallel using nengo_mpi. In particular, the ratio of the amount of
communication vs computation per step is relatively low. The network takes a
single parameter <span class="math">\(n\)</span> giving the total number of neural ensembles. The
network contains <span class="math">\(\sqrt{n}\)</span> different &#8220;streams&#8221;, where a stream is a
collection of <span class="math">\(\sqrt{n}\)</span> ensembles connected in a circular fashion (so
each ensemble has 1 incoming and 1 outgoing connection). Each ensemble is
<span class="math">\(4\)</span>-dimensional and contains <span class="math">\(200\)</span> LIF neurons, and we vary
<span class="math">\(n\)</span> as the independent variable in the graphs below. The largest network
contains <span class="math">\(2^{12} = 4096\)</span> ensembles, for a total of
<span class="math">\(200 * 4096 = 819,200\)</span> neurons. In every case, the ensembles are
distributed evenly amongst the processors. Each execution consists of 5
seconds of simulated time, and each data point is the result of 5 separate
executions.</p>
<img src="_images/pc_stream_run.svg" /><img src="_images/gpc_stream_run.svg" /><img src="_images/bgq_stream_run.svg" /></div>
<div class="section" id="random-graph-network">
<h2>Random Graph Network<a class="headerlink" href="#random-graph-network" title="Permalink to this headline">¶</a></h2>
<p>The random graph network is constructed by choosing a fixed number of
ensembles, and then randomly choosing ensemble-to-ensemble connections to
insantiate until a desired proportion of the total number of possible
connections is reached. In all cases, we use <span class="math">\(1024\)</span> ensembles, and we
vary the proportion of connections. This network is intended to show how the
performance of nengo_mpi scales as the ratio of communication to computation
increases, and investigate whether it is always a good idea to add more
processors. Adding more processors typically increases the amount of
inter-processor communication, since it increases the likelihood that any two
ensembles are simulated on different processors. Therefore, if communication
is the bottleneck, then adding more processors will tend to decrease performance.</p>
<p>Each ensemble is 2-dimensional and contains 100 LIF neurons, and each
connection computes the identity function. With <span class="math">\(n\)</span> ensembles, there are
<span class="math">\(n^2\)</span> possible connections (since we allow self-connections and the
connections are directed). Therefore in the most extreme case we have have
<span class="math">\(0.2 \times 1024^2 \approx 209,715\)</span> connections, each relaying a
2-dimensional value. The number of such connections that need to engage in
inter-processor communication is a function of the number of processors used
in the simulation, and the particular random connectivity structure that
arose. Each execution consists of 5 seconds of simulated time, and each data
point is the average of executions on 5 separate networks with different
randomly chosen connectivity structure.</p>
<img src="_images/pc_random_run.svg" /><img src="_images/gpc_random_run.svg" /><img src="_images/bgq_random_run.svg" /></div>
<div class="section" id="spaun">
<h2>SPAUN<a class="headerlink" href="#spaun" title="Permalink to this headline">¶</a></h2>
<p>SPAUN (Semantic Pointer Architecture Unified Network) is a large-scale,
functional model of the human brain developed at the CNRG. It is composed
entirely of spiking neurons, and can perform eight separate cognitive tasks
without modification. The original paper can be found <a class="reference external" href="http://compneuro.uwaterloo.ca/files/publications/eliasmith.2012.pdf">here</a>. SPAUN
is an extremely large-scale spiking neural network (currently approaching 4 million neurons
when using 512-dimensional semantic pointers) with very complex connectivity,
and represents a somewhat more realistic test than the more contrived examples used above.
In the plots below we vary the dimensionality of the semantic pointers, the internal
representations used by SPAUN.</p>
<img src="_images/pc_spaun_run.svg" /><img src="_images/gpc_spaun_run.svg" /><img src="_images/bgq_spaun_run.svg" /><p>Clearly the larger clusters are providing less of a benefit here. The hypothesized reason
is that thus far we have been unable to split SPAUN up into sufficiently small
components than can be simulated independently. There are some components with many thousands
of neurons on them. Thus the limiting factor for the speed of simulation is how
quickly an individual processor is able to simulate one of these large components.
We can likely remedy this by playing around with the connectivity of SPAUN and finding
ways to reduce the maximum component size.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="workflows.html" class="btn btn-neutral" title="Workflows" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2014, Applied Brain Research.
      Last updated on Mar 28, 2016.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>